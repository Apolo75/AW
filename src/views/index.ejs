<!DOCTYPE html>

<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agencia de Viajes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/styleIndex.css">
    <link rel="stylesheet" href="/styles/styleNavbar.css">
    <link rel="stylesheet" href="/styles/styleFooter.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <%- include('partials/navbar.ejs') %>

        <div class="titulo_y_busqueda">
            <h1 id="header_principal">Agencia de Viajes</h1>

            <form id="form_buscar_destino" action="#" method="get">
                <div>
                    Destino: <input type="text" name="destino" />
                    <input class="btn btn-secondary" type="submit" value="Buscar" />
                </div>
            </form>

        </div>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 justify-content-center m-auto">
            <% if (destinos && destinos.length> 0) { %>
                <% destinos.forEach((destino, index)=> { %>
                    <div class="col mb-5">
                        <div class="card h-100 p-4">
                            <img src="<%= destino.imagen%>" class="card-img-top"
                                alt="Imagen del destino <%= destino.nombre %>">
                            <div class="card-body">
                                <h3 class="card-title">Viaje a <%= destino.nombre %>
                                </h3>
                                <p class="card-text">
                                    <%= destino.descripcion %>
                                </p>
                            </div>
                            <div class="card-footer">
                                <span class="precio-tarjeta">
                                    <strong>
                                        <%= destino.precio %> €/dia
                                    </strong>
                                </span>

                                <button type="button" class="btn btn-primary btn-reservarTarjeta" data-bs-toggle="modal"
                                    data-bs-target="#reserva<%= index %>">Reservar</button>
                                <a href="/detallesViaje/<%= destino.id %>" class="btn btn-primary btn-masInfo"
                                    role="button">Más información</a>
                            </div>
                        </div>
                    </div>
                    <!-- Modal de reserva -->
                    <div class="modal" id="reserva<%= index %>">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">

                                <div class="modal-header">
                                    <h3> Reservar Viaje a <%= destino.nombre %>
                                    </h3>
                                </div>

                                <div class="modal-body">
                                    <form action="/reservar" method="post">
                                        <div class="mb-3">
                                            <label for="nombreCliente" class="form-label"><strong>Nombre del
                                                    viajero:</strong></label>
                                            <input type="text" class="form-control" id="nombreCliente"
                                                name="nombreCliente" pattern="[A-Za-zÀ-ÿ\s]+"
                                                title="Números o caracteres especiales no válidos" required>
                                        </div>
                                        <div class="mb-3">
                                            <label for="correoElectronico" class="form-label"><strong>Correo
                                                    electrónico:</strong></label>
                                            <input type="email" class="form-control" id="correoElectronico"
                                                name="correoElectronico" required>
                                        </div>
                                        <div class="mb-3">
                                            <label for="fechaReserva" class="form-label"><strong>Fecha de
                                                    reserva:</strong></label>
                                            <input type="date" class="form-control" id="fechaReserva"
                                                name="fechaReserva" required>
                                        </div>
                                        <div class="d-grid gap-2">
                                            <input class="btn btn-secondary btn-lg btn-reservarTarjeta" type="submit"
                                                value="Reservar">
                                        </div>
                                        <input type="hidden" name="destinoId" value="<%= destino.id %>" />
                                    </form>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default btn-cerrar-reserva"
                                        data-bs-dismiss="modal">Cerrar</button>
                                </div>

                            </div>
                        </div>
                    </div>

                    <% }) %>
                        <% } else { %>
                            <div class="col">
                                <p>No se encontraron destinos disponibles.</p>
                            </div>
                            <% } %>
        </div>


   


        <div class="seccion_presentacion" id="seccion_presentacion">
            <h2>¿Quiénes somos?</h2>
            <div class="texto-secc-presentacion">
                <p> Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem in consequuntur sed! Delectus odio
                    autem, iure id doloremque cum non temporibus nemo error voluptatem, culpa ad corrupti. Quia aliquid
                    enim
                    tempora vitae aperiam, nesciunt velit nobis ea similique id distinctio fuga. Ea vel nostrum
                    similique
                    iusto omnis maiores, alias dolores?</p>
                <p> Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga tenetur perspiciatis repellendus
                    eligendi
                    optio. Illum ab dicta harum quis, sit cumque excepturi beatae id, saepe voluptas debitis deleniti
                    reiciendis. Hic velit fugit in porro sunt quam autem veritatis corporis nisi libero corrupti
                    sapiente
                    soluta deleniti veniam, nostrum eaque cumque adipisci earum, recusandae ipsum? Numquam veritatis et
                    nobis accusantium porro doloribus ad aliquid, magni recusandae! Tempora dolor molestias fuga
                    obcaecati
                    aliquid!</p>
                <blockquote>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aut, alias.</blockquote>
            </div>
        </div>

        <%- include('partials/footer.ejs') %>

</body>

</html>